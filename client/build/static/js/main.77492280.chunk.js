(this["webpackJsonpnotes-app"]=this["webpackJsonpnotes-app"]||[]).push([[0],{122:function(e,t,n){},123:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(60),c=n.n(o),l=(n(69),n(4)),s=n(1),i=(n(70),n(61)),u=n.n(i),m=function(){return r.a.createElement("div",null,r.a.createElement("header",{className:"Header"},"NOTES APP",r.a.createElement("div",null,r.a.createElement("img",{className:"logo",src:u.a,alt:"logo"}))))};n(71);function f(){return r.a.createElement("div",{className:"Footer"},r.a.createElement("i",{className:"mr-2 fa fa-copyright"}),r.a.createElement("span",null,"by Bojan"))}n(72);var b=Object(a.createContext)();function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var d=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(a.useContext)(b),i=Object(s.a)(c,2),u=i[0],m=i[1];Object(a.useEffect)((function(){o(u.cloneNotes)}),[u.cloneNotes]);return r.a.createElement("div",{className:"form-group Filter"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Filter Notes",name:"title",onChange:function(e){var t=e.target.value;console.log(n);var a=n.filter((function(e){return new RegExp("^"+t).test(e.title.toLowerCase())}));m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},u,{notes:a}))}}))};n(73);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var g=function(){var e=Object(a.useContext)(b),t=Object(s.a)(e,2),n=t[0],o=t[1];return r.a.createElement("button",{className:"NewNoteBtn",onClick:function(){o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{toogle:!0}))}},r.a.createElement("i",{className:"fa fa-plus mr-1"}),"New Note")};n(74);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var j=function(){var e=Object(a.useContext)(b),t=Object(s.a)(e,2),n=t[0],o=t[1];return r.a.createElement("button",{className:"btn btn-success",onClick:function(){console.log(n.notes);var e=n.notes.sort((function(e,t){return Date.parse(t.date)-Date.parse(e.date)}));o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n,{notes:e}))}},r.a.createElement("i",{className:"mr-1 fa fa-sort"}),"SortByDate")},E=function(e,t){return e.filter((function(e){return e.status===t}))},h=(n(75),n(2)),y=n(17),N=n(28),w=n.n(N).a.create({baseURL:"https://my-notes-app-api.herokuapp.com"}),P=function(e){var t=Object(y.io)("http://localhost:4000"),n=e.title,o=e.body,c=e.author_name,l=e.id,i=Object(a.useContext)(b),u=Object(s.a)(i,2),m=u[0],f=(u[1],Object(h.e)());return r.a.createElement("div",{className:"Note col-lg-3 col-md-4 col-sm-6"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},n),r.a.createElement("p",{className:"card-text"},o),r.a.createElement("h3",{className:"card-subtitle mb-2 text-muted"},c),r.a.createElement("button",{className:"w-100 btn btn-danger",onClick:function(){return function(e,n){var a=m.cloneNotes.filter((function(t){return t.id!==e}));t.emit("deleteNote",{data:a,title:n}),console.log(e),w.delete("/notes/".concat(e))}(l,n)}},"Delete Note"),r.a.createElement("button",{className:"w-100 btn btn-warning mt-2 d-block",onClick:function(){return t=e.note,console.log(t),void f.push("/note/".concat(t.id));var t}},"Edit Note"))))},D=(n(122),function(e){var t=e.notes,n=E(t,"published");return r.a.createElement("div",{className:"text-center container notes"},r.a.createElement("div",{className:"row"},n.map((function(e){return r.a.createElement(P,{note:e,key:e.id,notes:n,title:e.title,body:e.body,author_name:e.author__name,id:e.id})}))))}),x=n(8),C=(n(123),n(63)),S=n.n(C);var k=function(e,t,n){var a={valid:!0,messages:[]};return e.trim().length<4&&(a.messages.push("Title should have minumum 4 charachters"),a.valid=!1),t.trim().length<6&&(a.messages.push("Author_name should have minumum 6 charachters"),a.valid=!1),n.trim().length<10&&(a.messages.push("Body should have minumum 10 charachters"),a.valid=!1),a};n(126);var _=function(e){var t=e.errMessages;return r.a.createElement("div",{className:"messages"},t.length>0?t.map((function(e){return r.a.createElement("p",{className:"text-danger"},e)})):null)};var B=function(e){var t=e.getInputValue,n=e.finishAddNote,a=e.saveToDrafts;return r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Note Title"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Note Title",name:"title",onChange:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Note  Body"),r.a.createElement("textarea",{className:"form-control",placeholder:"Enter Note Body",name:"body",onChange:t})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",null,"Note Author Name"),r.a.createElement("input",{className:"form-control",placeholder:"Enter Note Author Name",name:"author__name",onChange:t})),r.a.createElement("div",{className:"modalButtons"},r.a.createElement("button",{className:"btn btn-primary",onClick:n},"Publish"),r.a.createElement("button",{className:"ml-2 btn btn-warning",onClick:a},"Save Note to Drafts")))};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var A=function(e){var t=Object(a.useState)(e),n=Object(s.a)(t,2),r=n[0],o=n[1];return console.log(e),[r,function(e){o(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,Object(l.a)({},e.target.name,e.target.value)))}]};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(){var e=Object(a.useContext)(b),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(y.io)("http://localhost:4000");r.a.useEffect((function(){}),[]);var l=A({title:"",author__name:"",body:"",id:S()(),date:(new Date).toLocaleDateString()}),i=Object(s.a)(l,2),u=i[0],m=i[1],f=Object(a.useState)([]),p=Object(s.a)(f,2),d=p[0],O=p[1],g=u.title,v=u.author__name,j=u.body;return r.a.createElement("div",{className:"Modal"},r.a.createElement("p",{className:"text-right text-danger",onClick:function(){o(M({},n,{toogle:!1}))}},r.a.createElement("i",{className:"fa fa-close"})),r.a.createElement(B,{getInputValue:m,saveToDrafts:function(e){e.preventDefault(),k(g,v,j).valid?(u.status="drafts",o(M({},n,{toogle:!1,notes:[].concat(Object(x.a)(n.notes),[u])}))):O(k(g,v,j).messages)},finishAddNote:function(e){e.preventDefault(),k(g,v,j).valid?(u.status="published",o(M({},n,{toogle:!1,notes:[].concat(Object(x.a)(n.notes),[u]),cloneNotes:[].concat(Object(x.a)(n.cloneNotes),[u]),alert:{active:!0,msg:"Note ".concat(u.title," is published"),color:"green"}})),setTimeout((function(){o(M({},n,{toogle:!1,notes:[].concat(Object(x.a)(n.notes),[u]),cloneNotes:[].concat(Object(x.a)(n.cloneNotes),[u]),alert:{active:!1,msg:"",color:""}}))}),3e3),c.emit("addNote",[].concat(Object(x.a)(n.notes),[u])),w.post("/notes",u)):O(k(g,v,j).messages)}}),r.a.createElement(_,{errMessages:d}))},H=(n(127),function(){var e=Object(a.useContext)(b),t=Object(s.a)(e,1)[0],n=null;return t.toogle&&(n=r.a.createElement(F,null)),r.a.createElement("div",null,r.a.createElement(d,null),n,r.a.createElement("div",{className:"ButtonsGroup"},r.a.createElement(g,null),r.a.createElement(j,null)),r.a.createElement(D,{notes:t.notes}))});n(128),n(129),n(130);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var W=function(e){var t=e.notes,n=Object(a.useContext)(b),o=Object(s.a)(n,2),c=o[0],i=o[1],u=E(t,"drafts"),m=function(e){var t=Object(x.a)(c.notes),n=t.findIndex((function(t){return t.id===e.id})),a=t[n];a.status="published",t[n]=a,i(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},c,{notes:t,cloneNotes:t}))},f=null;return 0===u.length&&(f=r.a.createElement("h1",{className:"text-center"},"Emty Drafts")),r.a.createElement("div",{className:"container Drafts"},f,r.a.createElement("div",{className:"row"},u.map((function(e){return r.a.createElement("div",{className:"card  text-center col-lg-4  ",key:e.id},r.a.createElement("div",{className:"card-body"},r.a.createElement("h2",{className:"card-title"},e.title),r.a.createElement("p",{className:"card-text"},e.body),r.a.createElement("h3",{className:"card-subtitle mb-2 text-muted"},e.author_name),r.a.createElement("button",{className:"btn btn-primary",onClick:function(){return m(e)}},"Publish")))}))))},J=n(16),R=(n(131),function(){return r.a.createElement("div",{className:"Nav"},r.a.createElement("div",{className:"NavLinks"},r.a.createElement(J.b,{to:"/"},"Home"),r.a.createElement(J.b,{to:"/drafts"},"Drafts")))}),U=function(e,t){return t.find((function(t){return t.id.toString()===e}))};n(59);var V=function(e){var t=e.singleNote,n=e.updateNoteHandler,a=e.updateNoteInput,o=e.errMessages,c=(e.id,e.single,Object(h.e)());return t||c.push("/"),r.a.createElement("div",{className:"EditWrapper"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Title"),r.a.createElement("input",{value:t.title,onChange:a,name:"title"}),r.a.createElement("label",null,"Body"),r.a.createElement("textarea",{value:t.body,onChange:a,name:"body"}),r.a.createElement("label",null,"Author"),r.a.createElement("input",{value:t.author__name,onChange:a,name:"author__name"}),r.a.createElement("button",{onClick:n,className:"mt-2 btn btn-success"},"Update Note"),r.a.createElement(_,{errMessages:o})):null)};var G=function(){var e=Object(y.io)("http://localhost:4000"),t=Object(h.f)().id,n=Object(a.useContext)(b),o=Object(s.a)(n,2),c=o[0],l=(o[1],Object(h.e)()),i=A(U(t,c.notes)),u=Object(s.a)(i,2),m=u[0],f=u[1],p=Object(a.useState)([]),d=Object(s.a)(p,2),O=d[0],g=d[1],v=r.a.createElement("div",{className:"Edit"},r.a.createElement(V,{updateNoteInput:f,singleNote:m,updateNoteHandler:function(){var t=m.title,n=m.author__name,a=m.body,r=Object(x.a)(c.cloneNotes);if(k(t,n,a).valid){var o=r.findIndex((function(e){return e.id.toString()===m.id.toString()}));r[o]=m,e.emit("updateNote",{data:r,title:t}),w.put("/notes",r),l.push("/")}else g(k(t,n,a).messages)},errMessages:O,id:t}));return r.a.createElement("div",null,v)};n(132);var $=function(){var e=Object(a.useContext)(b),t=Object(s.a)(e,1)[0],n=t.alert.active?r.a.createElement("div",{className:"Alert",style:{color:t.alert.color}}," ",t.alert.msg):null;return r.a.createElement(r.a.Fragment,null,n)};function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach((function(t){Object(l.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var K=function(){var e=Object(a.useContext)(b),t=Object(s.a)(e,2),n=t[0],o=t[1],c=Object(y.io)("http://localhost:4000"),l=Object(a.useState)(4),i=Object(s.a)(l,2);return i[0],i[1],Object(a.useEffect)((function(){c.on("addNote",(function(e){o(z({},n,{notes:e,cloneNotes:e}))})),c.on("deleteNote",(function(e){o(z({},n,{notes:e.data,cloneNotes:e.data,alert:{active:!0,msg:"Note ".concat(e.title," is deleted!!!"),color:"red"}})),setTimeout((function(){o(z({},n,{toogle:!1,alert:{active:!1,msg:"",color:""},notes:e.data,cloneNotes:e.data}))}),3e3)})),c.on("updateNote",(function(e){o(z({},n,{notes:e.data,alert:{active:!0,msg:"Note ".concat(e.title," is updated"),color:"orange"},cloneNotes:e.data})),setTimeout((function(){o(z({},n,{notes:e.data,cloneNotes:e.data,alert:{active:!1,msg:"",color:""}}))}),3e3)}))}),[]),Object(a.useEffect)((function(){w.get("/notes").then((function(e){o(z({},n,{notes:e.data,cloneNotes:e.data}))}))}),[]),r.a.createElement(J.a,null,r.a.createElement("div",{className:"App"},r.a.createElement($,null),r.a.createElement(m,null),r.a.createElement(R,null)),r.a.createElement(h.a,{path:"/",exact:!0,render:function(){return r.a.createElement(H,null)}}),r.a.createElement(h.a,{path:"/drafts",render:function(){return r.a.createElement(W,{notes:n.notes})}}),r.a.createElement(h.a,{path:"/note/:id",render:function(){return r.a.createElement(G,null)}}),r.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement((function(e){var t=e.children,n=Object(a.useState)({toogle:!1,notes:[],singleNote:null,cloneNotes:[],alert:{active:!1,msg:"test"},test:"hello"});return r.a.createElement(b.Provider,{value:n},t)}),null,r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t,n){},61:function(e,t,n){e.exports=n.p+"static/media/logo.d97dde6a.png"},64:function(e,t,n){e.exports=n(133)},69:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){}},[[64,1,2]]]);
//# sourceMappingURL=main.77492280.chunk.js.map